import {
  keymap
} from "./chunk-ZRMAPHIN.js";
import "./chunk-NVKSN2QT.js";
import "./chunk-AUZ3RYOM.js";

// .yarn/__virtual__/@bangle.dev-timestamp-virtual-770439b843/5/Users/ted/.yarn/berry/cache/@bangle.dev-timestamp-npm-0.32.0-b918f80992-10c0.zip/node_modules/@bangle.dev/timestamp/dist/index.js
var plugins = pluginsFactory;
function pluginsFactory() {
  return keymap({
    "Ctrl-Shift-5": printDate("medium"),
    "Ctrl-Shift-6": printDate("utc"),
    "Ctrl-Shift-4": printDate("short")
  });
}
function printDate(type) {
  return function(state, dispatch) {
    let { $from } = state.selection, index = $from.index();
    if (!$from.parent.canReplaceWith(index, index, state.schema.nodes.text)) {
      return false;
    }
    if (dispatch) {
      let text;
      if (type === "medium") {
        const formatter = new Intl.DateTimeFormat("default", {
          dateStyle: "medium",
          timeStyle: "medium",
          hour12: false
        });
        text = "" + formatter.format((/* @__PURE__ */ new Date()).getTime());
      }
      if (type === "utc") {
        text = "" + (/* @__PURE__ */ new Date()).toISOString();
      }
      if (type === "short") {
        const formatter = new Intl.DateTimeFormat("default", {
          dateStyle: "medium",
          hour12: false
        });
        text = "" + formatter.format((/* @__PURE__ */ new Date()).getTime());
      }
      dispatch(state.tr.replaceSelectionWith(state.schema.text(text)));
    }
    return true;
  };
}
var timestamp = Object.freeze({
  __proto__: null,
  plugins
});
export {
  timestamp
};
//# sourceMappingURL=@bangle__dev_timestamp.js.map
